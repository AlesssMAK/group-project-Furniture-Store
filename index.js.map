{"version":3,"file":"index.js","sources":["../src/js/header-menu.js","../src/js/furniture-store-api.js","../src/js/refs.js","../src/js/loader.js","../src/js/furniture-list.js","../src/js/feedback.js","../src/js/render-function.js","../src/js/furniture-details-modal.js","../src/js/order-modal.js"],"sourcesContent":["console.log(\"menu\");\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// API\nexport const BASE_URL = 'https://furniture-store.b.goit.study/api';\n\n// Ендпоінти\nexport const ENDPOINTS = {\n  FURNITURES: '/furnitures',\n  CATEGORIES: '/categories',\n  ORDERS: '/orders',\n  FEEDBACKS: '/feedbacks',\n};\n\n// axios\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// меблі\nexport async function fetchFurnitures(page = 1, limit = 8) {\n  try {\n    const response = await api.get(ENDPOINTS.FURNITURES, {\n      params: { page, limit },\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити меблі. Спробуйте пізніше.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n//меблі за категорією\nexport async function fetchFurnituresByCategory(category, page = 1, limit = 8) {\n  try {\n    const response = await api.get(ENDPOINTS.FURNITURES, {\n      params: {category, page, limit },\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити меблі. Спробуйте пізніше.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n\n// категорії\nexport async function fetchCategories() {\n  try {\n    const response = await api.get(ENDPOINTS.CATEGORIES);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message:\n        'Не вдалося завантажити категорії. Перевірте підключення до інтернету.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n//  Відгуки\nexport async function fetchFeedbacks(page = 1, limit = 3) {\n  try {\n    const response = await api.get(ENDPOINTS.FEEDBACKS, {\n      params: { page, limit },\n    });\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити відгуки. Спробуйте оновити сторінку.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// Нове замовлення\nexport async function createOrder(orderInfo) {\n  try {\n    const response = await api.post(ENDPOINTS.ORDERS, orderInfo);\n\n    // успіх колись нас чекає\n    iziToast.success({\n      title: 'Успіх!',\n      message:\n        \"Замовлення успішно створено. Ми зв'яжемося з вами найближчим часом.\",\n      position: 'topRight',\n      timeout: 4000,\n    });\n    //Все пропало\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка замовлення',\n      message:\n        'Не вдалося створити замовлення. Перевірте дані та спробуйте ще раз.',\n      position: 'topRight',\n      timeout: 4000,\n    });\n    return null;\n  }\n}\n\n// furniture details modal \n\nexport const fetchProductModal = async productId => {\n  try {\n    const response = await api.get(ENDPOINTS.FURNITURES);\n    const products = response.data.furnitures;\n    const product = products.find(item => item._id === productId);\n    return product;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Не вдалося завантажити дані товару',\n    });\n    throw error;\n  }\n};\n","export const refs = {\n    furnitureList: document.querySelector(\".furniture-list-render\"),\n    productModal: document.querySelector('.furniture-details-modal'),\n    productMadalContainer: document.querySelector('.furniture-modal-product'),\n    modalOrderBtn: document.querySelector('.order-btn'),\n    modalCloseBtn: document.querySelector(\".modal-furnt-close-btn\"),\n    categoriesList: document.querySelector(\".menu-list-section-iv\")\n}\n\n","const loader = document.getElementById('loader');\n\nexport function showLoader() {\n  if (loader) loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  if (loader) loader.classList.add('hidden');\n}\n","import { fetchFurnitures, fetchFurnituresByCategory } from './furniture-store-api';\nimport { refs } from './refs';\nimport { showLoader, hideLoader } from './loader';\n\nconst renderFurniture = furnitures => {\n  const markup = furnitures\n    .map(\n      ({ images, _id, type, price }) => `\n    <li class=\"furniture-list-render-item\" data-id=\"${_id}\">\n      <img class=\"furniture-list-render-img\" src=\"${images[0]}\" alt=\"${type}\" />\n      <h3 class=\"furniture-list-render-title\">${type}</h3>\n      <ul class=\"furniture-list-render-color-list\">\n        <li class=\"furniture-list-render-color-list-item furniture-list-render-color-list-item-current-one\"></li>\n        <li class=\"furniture-list-render-color-list-item furniture-list-render-color-list-item-current-two\"></li>\n        <li class=\"furniture-list-render-color-list-item furniture-list-render-color-list-item-current-three\"></li>\n      </ul>\n      <p class=\"furniture-list-render-price\">${price} грн</p>\n      <button class=\"furniture-list-render-btn\" type=\"button\">Детальніше</button>\n    </li>\n    `\n    )\n    .join('');\n\n  refs.furnitureList.innerHTML = markup;\n};\n\nasync function loadFurniture() {\n  showLoader();\n  const data = await fetchFurnitures();\n  hideLoader();\n\n  if (data && data.furnitures) {\n    renderFurniture(data.furnitures);\n  } else {\n    refs.furnitureList.innerHTML = '<p>Не вдалося завантажити меблі.</p>';\n  }\n}\n\nasync function loadFurnitureByCategory(category) {\n  showLoader();\n  const data = await fetchFurnituresByCategory(category);\n  hideLoader();\n\n  if (data && data.furnitures) {\n    renderFurniture(data.furnitures);\n  } else {\n    refs.furnitureList.innerHTML = '<p>Не вдалося завантажити меблі.</p>';\n  }\n}\n\nexport const handleCategoryClick = async e => {\n  const clickedBtn = e.target.closest(\".btn-list-section-iv\");\n  if (!clickedBtn) return;\n  highlightActiveCategory(clickedBtn);\n  loadFurnitureByCategory(clickedBtn.dataset.id);\n};\n\nexport const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.btn-list-section-iv');\n  if (firstBtn) {\n    highlightActiveCategory(firstBtn);\n  }\n  \n};\n// Підсвітка активної категорії ===\n\nexport const highlightActiveCategory = (activeButton) => {\n  document.querySelectorAll('.btn-list-section-iv').forEach(btn => btn.classList.remove('active-btn-iv'));\n  activeButton.classList.add('active-btn-iv');\n};\n\nloadFurniture();\n\n//  Клік по категорії ===\ndocument.addEventListener('DOMContentLoaded', () => {\n  refs.categoriesList.addEventListener(\"click\", handleCategoryClick);\n  activeFirstBtn();\n});\n\n","// Імпорт стилів (обов’язково)\nimport 'swiper/css';\n\n// Імпорт самого Swiper і модулів, якщо треба\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\n\n// Ініціалізація\nconst swiper = new Swiper('.swiper', {\n  modules: [Navigation, Pagination],\n  loop: true,\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  pagination: {\n    el: '.swiper-pagination',\n  },\n});\n\nconsole.log(\"feedback\");\n","import { refs } from './refs';\n\n// Furniture Modal\n\nexport const renderProductModal = modalData => {\n    const { name, description, images, rate, price, sizes, color, category } = modalData;\n  \n    const imagesMarkup = `\n      <div class=\"gallery\">\n        <img src=\"${images[0]}\" alt=\"${name}\" class=\"gallery__item gallery__item--large\" />\n        <div class=\"gallery__row\">\n          <img src=\"${images[1]}\" alt=\"${name}\" class=\"gallery__item\" />\n          <img src=\"${images[2]}\" alt=\"${name}\" class=\"gallery__item\" />\n        </div>\n      </div>\n    `;\n  \n    const colorsMarkup = color\n      .map((clr, index) => `\n        <label class=\"color-checkbox-label\">\n          <input type=\"checkbox\" name=\"color\" value=\"${clr}\" class=\"color-item\" id=\"color-${index}\" />\n          <span class=\"color-checkbox-circle\" style=\"background-color: ${clr}\"></span>\n        </label>\n      `)\n      .join('');\n  \n    refs.productMadalContainer.innerHTML = `\n      <div class=\"modal-product-img-gallery\">${imagesMarkup}</div>\n      <div class=\"furniture-modal-product-content\">\n        <h2 class=\"modal-product-title\">${name}</h2>\n        <p class=\"gategory-text\">${category.name}</p>\n        <p class=\"product-price\">${price} грн</p>\n        <svg class=\"product-rating\">${rate}</svg>\n        <div class=\"color-picker\">${colorsMarkup}</div>\n        <p class=\"product-description\">${description}</p>\n        <p class=\"product-size\">Розміри: ${sizes}</p>\n        <button class=\"order-btn\" type=\"button\">Перейти до замовлення</button>\n      </div>\n    `;\n  };","import { fetchProductModal } from './furniture-store-api';\nimport { refs } from './refs';\nimport { renderProductModal } from './render-function';\n\n\n// let currentProductId = null;\n\n// const setCurrentProduct = productId => {\n//   currentProductId = productId;\n// };\n\nconst clickEscPress = event => {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n};\n\nconst clickBackdropClick = event => {\n  if (event.target === refs.productModal) {\n    closeModal();\n  }\n};\n\nexport const openModal = productId => {\n  refs.productModal.classList.add('modal-is-open');\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', clickEscPress);\n  refs.productModal.addEventListener('click', clickBackdropClick);\n//   setCurrentProduct(productId);\n};\n\nexport const closeModal = () => {\n  refs.productModal.classList.remove('modal-is-open');\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', clickEscPress);\n  refs.productModal.removeEventListener('click', clickBackdropClick);\n};\n\nrefs.modalCloseBtn.addEventListener('click', closeModal);\n\n// on click callback function\n\nexport async function onProductModalClick(event) {\n    const detailBtn = event.target.closest('.furniture-list-render-btn');\n    if (!detailBtn) return;\n  \n    const card = detailBtn.closest('.furniture-list-render-item');\n    const productId = card?.dataset.id;\n    if (!productId) return;\n  \n    try {\n      const data = await fetchProductModal(productId); \n      renderProductModal(data); \n      openModal();\n    } catch (error) {\n      console.error('Не вдалося отримати дані товару:', error);\n    }\n  }\n  refs.furnitureList.addEventListener('click', onProductModalClick);\n\n\n\n\n// повісити слухача подіі на кнопку у модальці, щоб відкривалася інша модалка для замовлення товару\n\n","console.log(\"order-modal\");\n"],"names":["BASE_URL","ENDPOINTS","api","axios","fetchFurnitures","page","limit","iziToast","fetchFurnituresByCategory","category","fetchProductModal","productId","item","error","refs","loader","showLoader","hideLoader","renderFurniture","furnitures","markup","images","_id","type","price","loadFurniture","data","loadFurnitureByCategory","handleCategoryClick","clickedBtn","highlightActiveCategory","activeFirstBtn","firstBtn","activeButton","btn","Swiper","Navigation","Pagination","renderProductModal","modalData","name","description","rate","sizes","color","imagesMarkup","colorsMarkup","clr","index","clickEscPress","event","closeModal","clickBackdropClick","openModal","onProductModalClick","detailBtn","card"],"mappings":"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"}